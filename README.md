
**Title: AI-Assisted Git Commit Message Generator**

**Description**

This Python script leverages a powerful language model (from the Google Gemini family) to generate clear and concise Git commit messages. It analyzes your staged changes and creates a descriptive prompt to guide the AI's message generation. If you're not happy with the suggested message, you can keep regenerating until you find the perfect fit.

**Features**

* **Intelligent Commit Message Generation:** Uses a capable language model for high-quality, relevant commit descriptions.
* **Change Analysis:** Examines your `git diff` for insights, streamlining prompt creation.
* **Customization:** Regenerate messages if they're not a good fit.
* **Convenient Git Integration:** Commits and pushes your changes with a simple confirmation.

**Prerequisites**

1. **Python 3:** Ensure Python is installed on your system. Download it from [https://www.python.org/downloads/](https://www.python.org/downloads/) if needed.
2. **requests library:** Install using `pip install requests`.
3. **A Google Cloud Platform (GCP) Project:** Create a GCP project if you don't have one.
4. **Google Generative Language API:**  Enable the API in your GCP project.
5. **API Key:**  Obtain a valid API key for the Google Generative Language API.

**Setup**

1. **Clone the Repository:**
   ```bash
   git clone https://github.com/your-username/ai-commit-message-generator.git
   ```

2. **Set API Key Environment Variable:**
   ```bash
   export API_KEY=your_api_key
   ```
   Replace `your_api_key` with your actual Google Generative Language API key.

3. **API Model (Optional):** If necessary, modify the `MODEL_NAME` variable in the script to the desired Google Gemini language model.

**Usage**

1. **Stage Changes:** `git add` the changes you want to commit.
2. **Run Script:** `python autoGitCommit.py`
3. **Review Message:** The script will generate a suggested commit message.
4. **Approve or Regenerate:**
    * Type 'y' and press Enter to accept the message.
    * Type 'n' and press Enter to regenerate a new message.
5. **Commit and Push:** The script will automatically commit the changes with the approved message and push to your remote repository.

**Explanation**

The script follows these key steps:

* **Import Libraries:** Brings in necessary libraries for web requests, JSON handling, and Git commands.
* **Environment Variable:** Fetches your API key from the environment.
* **`generate_commit_message` Function:**
    * Constructs an API endpoint URL targeting your specified language model.
    * Prepares a JSON payload with the prompt generated by the `generate_commit_prompt` function.
    * Makes a POST request to the API endpoint.
    * Extracts the generated commit message from the response, or prints an error message if unsuccessful.
* **`generate_commit_prompt` Function:**
    * Calls the `git diff --cached` command to analyze your staged file changes.
    * Constructs a detailed prompt, including instructions and examples for the AI.
* **Main Execution (if __name__ == "__main__"):**
    * Loops until a suitable commit message is generated.
    * Prompts user for confirmation.
    * Calls `git commit` and `git push` if the message is approved.
